<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<script>

    //--------- DEMO ------------

    // Існують примітивні та ссилочні (референціальні) типи даних.

    // Числа, символьні, булеві значення і т.п. є примітивними типами.

    function increm(x) {
        x++;
    }

    let x = 0;
    increm(x); /*copy x*/
    console.log(x); /* 0 */

    function increment1(a) {
        ++a;
        console.log(a); /* 1 */
    }

    let z = 0;
    increment1(z); /*copy x*/
    console.log(z); /* 0 */

    // Об'єкти, масиви, New, ClassName, документи є ссилочними (референціальними) типами.

    function incremRef(y) {
        y.num++
    }

    let y = {num: 0};
    incremRef(y);
    console.log(y); /* 1 */

    function calc(a, b) {
        return a + b;
    }

    let c1 = calc(10, 20);
    console.log(c1);

    // ------ Вбудовані стрінгові функції:

    let str = 'hello okten';

    //replaceAll

    let replaceAll = str.replaceAll('o', '!');
    console.log(str);
    console.log(replaceAll);

    //startsWith

    let startsWith = str.startsWith('hel');
    console.log(startsWith);

    //endsWith

    let endsWith = str.endsWith('en');
    console.log(endsWith);

    //includes

    let includes = str.includes('ll');
    console.log(includes);

    //indexOf


    let indexOf = str.indexOf('e');
    console.log(indexOf);
    console.log(str[0]); /* h */ //стрінга є масивом символів

    //lastIndexOf

    let lastIndexOf = str.lastIndexOf('e');
    console.log(lastIndexOf);

    //split  /*розділяє стрінгу за заданим в '' значенням на окремі елементи масиву*/

    let split = str.split(' ');
    console.log(split);

    // ------ Вбудовані функції масивів:

    let deletedItems = [];

    let nums = [123, 12, 1, -45];

    //push - додати елемент в кінець масиву

    let number = nums.push('badvf');
    console.log(number); /*повертає нову довжину масиву*/
    console.log(nums); /*повертає змінений масив*/

    //pop - видалити останній елемент з масиву

    let pop = nums.pop();
    deletedItems.push(pop);
    console.log(nums);
    console.log(pop); /*повертає видалений елемент*/
    console.log(nums, pop); /*повертає змінений масив та видалений елементі*/

    //unshift - додати елемент на початок масиву

    let unshift = nums.unshift('start');
    console.log(unshift); /*повертає нову довжину масиву*/
    console.log(nums, unshift);  /*повертає змінений масив і нову довжину масиву*/

    //shift - видалити елемент з початку масиву

    let shift = nums.shift();
    deletedItems.push(shift);
    console.log(shift); /*повертає видалений елемент*/
    console.log(nums); /*повертає змінений масив*/

    console.log(deletedItems);   // soft delete

    //slice - вирізати сегмент масиву і працювати з ним далі. Первинний елемент залишається незмінним.

    let slice = nums.slice(0, 2) /*другий елемент не включно, тобто виріже 0, 1 елем.*/
    console.log(slice);

    //splice - видалити починаючи з якогось елемента певну к-сть елементів та впровадити замість них інші елементи

    let splice = nums.splice(1, 2, 'qwe', 'rty', 'uio');
    console.log(splice);
    console.log(nums);

    //--------- LESSON 3 ------------

    // Функція в функції

    function calculator(a, b, action) {
        if (action === '+') {
            return a + b;
        } else if (action === '-') {
            return a - b;
        }
        return 'error'
    }

    calculator(200, 100, '-');

    //-----або-----

    function calculator1(a, b, action) {
        let res = 'error';
        if (action === '+') {
            res = a + b;
        } else if (action === '-') {
            res = a - b;
        }
        return res;
    }

    calculator1(200, 100, '-');

    let add = function (a, b) {
        return a + b
    }; // function expression

    function calculator2(a, b, action) {
        let res = 'error';
        if (action === 'add') {
            res = a + b;
        } else if (action === 'minus') {
            res = a - b;
        }
        return res;
    }

    console.log(calculator2(200, 100, 'add'));

    function calculator3(a, b, action) {
        let res = 'error';
        if (action === 'add') {
            res = add(a, b);
        } else if (action === 'minus') {
            res = minus(a, b);
        }
        return res;
    }

    console.log(calculator3(50, 100, 'add'));


    // function add(a, b) {return a + b;} // function declaration

    function minus(a, b) {
        return a - b;
    } // function declaration

    // hosting

    // - створити функцію яка приймає масив чисел, сумує значення елементів масиву та повертає його. Приклад [1,2,10]->13

    function logSum(array) {
        const sum = array.reduce(function (acc, curr) {
            return acc + curr;
        }, 0);
        console.log("sum: ", sum);
    }

    logSum([4, 20, 1]);

    // - створити функцію яка приймає масив чисел та повертає середнє арифметичне його значень.

    function logAvg(array) {
        const sum = array.reduce(function (acc, curr) {
            return acc + curr;
        }, 0);
        console.log("sum: ", sum / array.length);
    }

    logAvg([40, 100, 10]);

</script>

</body>
</html>